"use strict";

var mysql = require('mysql');

var Promise = require('bluebird');

var createTables = require('./schema');

var database = 'checkout';
var connection = mysql.createConnection({
  user: 'root',
  password: ''
});
var db = Promise.promisifyAll(connection);
db.connectAsync().then(function () {
  return db.queryAsync("CREATE DATABASE IF NOT EXISTS ".concat(database));
}).then(function () {
  return db.queryAsync("USE ".concat(database));
}).then(function () {
  return console.log("CONNECTED TO ".concat(database, " DATABASE"));
}).then(function () {
  return createTables(db);
})["catch"](function (err) {
  return console.log('db.connectAsync ERR = ', err);
});
module.exports = db;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2RiL2luZGV4LmpzIl0sIm5hbWVzIjpbIm15c3FsIiwicmVxdWlyZSIsIlByb21pc2UiLCJjcmVhdGVUYWJsZXMiLCJkYXRhYmFzZSIsImNvbm5lY3Rpb24iLCJjcmVhdGVDb25uZWN0aW9uIiwidXNlciIsInBhc3N3b3JkIiwiZGIiLCJwcm9taXNpZnlBbGwiLCJjb25uZWN0QXN5bmMiLCJ0aGVuIiwicXVlcnlBc3luYyIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBQ0EsSUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsVUFBRCxDQUF2Qjs7QUFDQSxJQUFNRSxZQUFZLEdBQUdGLE9BQU8sQ0FBQyxVQUFELENBQTVCOztBQUNBLElBQU1HLFFBQVEsR0FBRyxVQUFqQjtBQUdBLElBQU1DLFVBQVUsR0FBR0wsS0FBSyxDQUFDTSxnQkFBTixDQUF1QjtBQUN4Q0MsRUFBQUEsSUFBSSxFQUFFLE1BRGtDO0FBRXhDQyxFQUFBQSxRQUFRLEVBQUU7QUFGOEIsQ0FBdkIsQ0FBbkI7QUFLQSxJQUFNQyxFQUFFLEdBQUdQLE9BQU8sQ0FBQ1EsWUFBUixDQUFzQkwsVUFBdEIsQ0FBWDtBQUVBSSxFQUFFLENBQUNFLFlBQUgsR0FDR0MsSUFESCxDQUNRO0FBQUEsU0FBTUgsRUFBRSxDQUFDSSxVQUFILHlDQUErQ1QsUUFBL0MsRUFBTjtBQUFBLENBRFIsRUFFR1EsSUFGSCxDQUVRO0FBQUEsU0FBTUgsRUFBRSxDQUFDSSxVQUFILGVBQXFCVCxRQUFyQixFQUFOO0FBQUEsQ0FGUixFQUdHUSxJQUhILENBR1E7QUFBQSxTQUFNRSxPQUFPLENBQUNDLEdBQVIsd0JBQTRCWCxRQUE1QixlQUFOO0FBQUEsQ0FIUixFQUlHUSxJQUpILENBSVE7QUFBQSxTQUFNVCxZQUFZLENBQUNNLEVBQUQsQ0FBbEI7QUFBQSxDQUpSLFdBS1MsVUFBQ08sR0FBRDtBQUFBLFNBQVNGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHdCQUFaLEVBQXNDQyxHQUF0QyxDQUFUO0FBQUEsQ0FMVDtBQU9BQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbXlzcWwgPSByZXF1aXJlKCdteXNxbCcpO1xuY29uc3QgUHJvbWlzZSA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG5jb25zdCBjcmVhdGVUYWJsZXMgPSByZXF1aXJlKCcuL3NjaGVtYScpO1xuY29uc3QgZGF0YWJhc2UgPSAnY2hlY2tvdXQnO1xuXG5cbmNvbnN0IGNvbm5lY3Rpb24gPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcbiAgdXNlcjogJ3Jvb3QnLFxuICBwYXNzd29yZDogJycsXG59KTtcblxuY29uc3QgZGIgPSBQcm9taXNlLnByb21pc2lmeUFsbCgoY29ubmVjdGlvbikpO1xuXG5kYi5jb25uZWN0QXN5bmMoKVxuICAudGhlbigoKSA9PiBkYi5xdWVyeUFzeW5jKGBDUkVBVEUgREFUQUJBU0UgSUYgTk9UIEVYSVNUUyAke2RhdGFiYXNlfWApKVxuICAudGhlbigoKSA9PiBkYi5xdWVyeUFzeW5jKGBVU0UgJHtkYXRhYmFzZX1gKSlcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coYENPTk5FQ1RFRCBUTyAke2RhdGFiYXNlfSBEQVRBQkFTRWApKVxuICAudGhlbigoKSA9PiBjcmVhdGVUYWJsZXMoZGIpKVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coJ2RiLmNvbm5lY3RBc3luYyBFUlIgPSAnLCBlcnIpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYjsiXX0=