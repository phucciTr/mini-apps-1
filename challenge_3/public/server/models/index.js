"use strict";

var db = require('./../db/index');

var Promise = require('bluebird');

var User = {
  create: function create(user, cb) {
    db.queryAsync('INSERT INTO users SET ?', user).then(function (results) {
      return cb(null, results);
    })["catch"](function (err) {
      console.log("INSERT NEW USER \"".concat(user.username, "\" ERR = "), err);
      cb(err, null);
    });
  }
};
User.create = Promise.promisify(User.create);
module.exports.User = User;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlcnZlci9tb2RlbHMvaW5kZXguanMiXSwibmFtZXMiOlsiZGIiLCJyZXF1aXJlIiwiUHJvbWlzZSIsIlVzZXIiLCJjcmVhdGUiLCJ1c2VyIiwiY2IiLCJxdWVyeUFzeW5jIiwidGhlbiIsInJlc3VsdHMiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidXNlcm5hbWUiLCJwcm9taXNpZnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLGVBQUQsQ0FBbEI7O0FBQ0EsSUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsVUFBRCxDQUF2Qjs7QUFFQSxJQUFNRSxJQUFJLEdBQUc7QUFDWEMsRUFBQUEsTUFBTSxFQUFFLGdCQUFDQyxJQUFELEVBQU9DLEVBQVAsRUFBYztBQUNwQk4sSUFBQUEsRUFBRSxDQUFDTyxVQUFILENBQWMseUJBQWQsRUFBeUNGLElBQXpDLEVBQ0dHLElBREgsQ0FDUSxVQUFDQyxPQUFEO0FBQUEsYUFBYUgsRUFBRSxDQUFDLElBQUQsRUFBT0csT0FBUCxDQUFmO0FBQUEsS0FEUixXQUVTLFVBQUNDLEdBQUQsRUFBUztBQUNkQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsNkJBQWdDUCxJQUFJLENBQUNRLFFBQXJDLGdCQUF5REgsR0FBekQ7QUFDQUosTUFBQUEsRUFBRSxDQUFDSSxHQUFELEVBQU0sSUFBTixDQUFGO0FBQ0QsS0FMSDtBQU1EO0FBUlUsQ0FBYjtBQVVBUCxJQUFJLENBQUNDLE1BQUwsR0FBY0YsT0FBTyxDQUFDWSxTQUFSLENBQWtCWCxJQUFJLENBQUNDLE1BQXZCLENBQWQ7QUFFQVcsTUFBTSxDQUFDQyxPQUFQLENBQWViLElBQWYsR0FBc0JBLElBQXRCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKCcuLy4uL2RiL2luZGV4Jyk7XG5jb25zdCBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcblxuY29uc3QgVXNlciA9IHtcbiAgY3JlYXRlOiAodXNlciwgY2IpID0+IHtcbiAgICBkYi5xdWVyeUFzeW5jKCdJTlNFUlQgSU5UTyB1c2VycyBTRVQgPycsIHVzZXIpXG4gICAgICAudGhlbigocmVzdWx0cykgPT4gY2IobnVsbCwgcmVzdWx0cykpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgSU5TRVJUIE5FVyBVU0VSIFwiJHt1c2VyLnVzZXJuYW1lfVwiIEVSUiA9IGAsIGVycilcbiAgICAgICAgY2IoZXJyLCBudWxsKTtcbiAgICAgIH0pO1xuICB9XG59O1xuVXNlci5jcmVhdGUgPSBQcm9taXNlLnByb21pc2lmeShVc2VyLmNyZWF0ZSk7XG5cbm1vZHVsZS5leHBvcnRzLlVzZXIgPSBVc2VyO1xuIl19